<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>MySQL | DAY's Blog</title><meta name="keywords" content="Notes,DataBase"><meta name="author" content="santidad DAY"><meta name="copyright" content="santidad DAY"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="MySQL是一种开源的关系型数据库管理系统（RDBMS），它使用SQL语言进行数据的管理。MySQL最初由瑞典MySQL AB公司开发，现在属于Oracle公司管理。MySQL被广泛应用于Web应用程序的后端，如WordPress、Drupal等。MySQL具有高性能、可靠性和易于使用等特点，因此是许多企业和组织的首选数据库之一。">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL">
<meta property="og:url" content="https://santidadday.github.io/2023/01/30/MySQL%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="DAY&#39;s Blog">
<meta property="og:description" content="MySQL是一种开源的关系型数据库管理系统（RDBMS），它使用SQL语言进行数据的管理。MySQL最初由瑞典MySQL AB公司开发，现在属于Oracle公司管理。MySQL被广泛应用于Web应用程序的后端，如WordPress、Drupal等。MySQL具有高性能、可靠性和易于使用等特点，因此是许多企业和组织的首选数据库之一。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://upload.wikimedia.org/wikipedia/zh/thumb/6/62/MySQL.svg/1200px-MySQL.svg.png">
<meta property="article:published_time" content="2023-01-29T16:00:00.000Z">
<meta property="article:modified_time" content="2023-03-14T13:28:50.000Z">
<meta property="article:author" content="santidad DAY">
<meta property="article:tag" content="Notes">
<meta property="article:tag" content="DataBase">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://upload.wikimedia.org/wikipedia/zh/thumb/6/62/MySQL.svg/1200px-MySQL.svg.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://santidadday.github.io/2023/01/30/MySQL%E5%9F%BA%E7%A1%80/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MySQL',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-03-14 21:28:50'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/day.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">17</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">9</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">1</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">DAY's Blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">MySQL</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">Created</span><time datetime="2023-01-29T16:00:00.000Z" title="Created 2023-01-30 00:00:00">2023-01-30</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="MySQL"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div><article class="post-content" id="article-container"><h2 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h2><ul>
<li>实现数据持久化</li>
<li>使用完整的管理系统统一管理，易于查询</li>
</ul>
<h3 id="数据库的相关概念"><a href="#数据库的相关概念" class="headerlink" title="数据库的相关概念"></a>数据库的相关概念</h3><p>DB：数据库（database），存储数据的“仓库”。保存了一些列有组织的数据</p>
<p>DBMS：数据库管理系统（Database Management System），数据库是通过DBMS创建和操作的容器</p>
<p>SQL：结构化查询语言（Structure Query Language），专门用来与数据库通讯的语言</p>
<p><strong>SQL的优点</strong></p>
<ul>
<li>不是某个特定数据库供应商专有的语言，几乎所有DBMS都支持SQL</li>
<li>简单易学</li>
<li>虽然简单，但实际上是一种强有力的语言，灵活使用其语言元素，可以进行非常复杂和高级的数据库操作</li>
</ul>
<h3 id="数据库存储数据的特点"><a href="#数据库存储数据的特点" class="headerlink" title="数据库存储数据的特点"></a>数据库存储数据的特点</h3><ul>
<li>将数据放到表中，表放在库中</li>
<li>一个数据库中可以有多个表，每个表都有一个名字，用来标识自己的名字。表名具有唯一性</li>
<li>表具有某些特征，这些特征定义了数据库在表中如何存储</li>
<li>表<strong>由列组成</strong>，我们称之为字段。所有表都是由一个或多个列组成的</li>
<li>表中的数据是<strong>按行存储的</strong></li>
</ul>
<p><strong>MySQL优点</strong></p>
<ul>
<li>成本低：开放源代码，一般可以免费试用</li>
<li>性能高：执行很快</li>
<li>简单：容易安装使用</li>
</ul>
<p><strong>DBMS分为两类</strong></p>
<ul>
<li>基于共享文件系统的DBMS</li>
<li>基于客户机—服务器的DBMS</li>
</ul>
<hr>
<h2 id="MySQL产品使用"><a href="#MySQL产品使用" class="headerlink" title="MySQL产品使用"></a>MySQL产品使用</h2><h3 id="MySQl服务的启动和停止"><a href="#MySQl服务的启动和停止" class="headerlink" title="MySQl服务的启动和停止"></a>MySQl服务的启动和停止</h3><ul>
<li>方式一：计算机—右击管理—服务</li>
<li>方式二：<strong>通过管理员身份运行cmd</strong><ul>
<li>net start mysql（启动服务）</li>
<li>net stop mysql（停止服务）</li>
</ul>
</li>
</ul>
<h3 id="MySQL服务的登录和退出"><a href="#MySQL服务的登录和退出" class="headerlink" title="MySQL服务的登录和退出"></a>MySQL服务的登录和退出</h3><ul>
<li>方式一：通过MySQL自带客户端，只限于root用户</li>
<li>方式二：通过windows自带客户单<ul>
<li><p>登录：<code>mysql [ -h 主机名 -P 端口号] -u root -p</code></p>
<p>mysql -h localhost -P 3306 -u root -p</p>
<p><code>mysql -u root -p</code>本机</p>
</li>
<li><p>退出：<code>exit</code>或ctrl + c</p>
</li>
</ul>
</li>
</ul>
<h3 id="MySQL常见的命令"><a href="#MySQL常见的命令" class="headerlink" title="MySQL常见的命令"></a>MySQL常见的命令</h3><ul>
<li><p>查看当前所有的数据库：<code>show databases;</code></p>
</li>
<li><p>打开指定的库：<code>use 库名</code></p>
</li>
<li><p>查看当前库的所有表：<code>show tables;</code></p>
</li>
<li><p>查看其他库的所有表：<code>show tables from 库名;</code></p>
</li>
<li><p>创建表：<code>create table 表名(列名 列类型,</code></p>
<p><code>列名 列类型,</code></p>
<p><code>...);</code></p>
</li>
<li><p>查看表结构：<code>desc 表名;</code></p>
</li>
<li><p>查看服务器版本</p>
<ul>
<li>方式一：登录到MySQL服务端：select version();</li>
<li>方式二：没有登录到MySQL服务端：mysql –version或mysql –V</li>
</ul>
</li>
</ul>
<h3 id="MySQL的语法规范"><a href="#MySQL的语法规范" class="headerlink" title="MySQL的语法规范"></a>MySQL的语法规范</h3><ul>
<li><strong>不区分大小写</strong>，但建议关键字大写，表名、列名小写</li>
<li>每条命令最好用分号结尾</li>
<li>每条命令根据需要，可以进行缩进或换行</li>
<li>MySQL中所有的<strong>索引下标从1开始</strong>，与基本语言有区别</li>
<li>注释<ul>
<li>单行注释：#注释文字</li>
<li>单行注释：–  注释文字</li>
<li>多行注释：&#x2F;*  注释文字  *&#x2F;</li>
</ul>
</li>
</ul>
<hr>
<h2 id="DQL语言学习（Data-Query-Language）"><a href="#DQL语言学习（Data-Query-Language）" class="headerlink" title="DQL语言学习（Data Query Language）"></a>DQL语言学习（Data Query Language）</h2><h3 id="基础查询"><a href="#基础查询" class="headerlink" title="基础查询"></a>基础查询</h3><p><strong>语法：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 查询列表</span><br><span class="line">FROM 表名;</span><br></pre></td></tr></table></figure>

<p>查询列表：表中字段、常量值、表达式、函数</p>
<p>查询的结果：一个虚拟的表格</p>
<p>查询<strong>表中单个字段：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 列名</span><br><span class="line">FROM 表名;</span><br></pre></td></tr></table></figure>

<p>查询<strong>表中多个字段：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 列名1, 列名2, ..., 列名N</span><br><span class="line">FROM 表名;</span><br></pre></td></tr></table></figure>

<p>查询<strong>表中所有字段：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#方法一</span><br><span class="line">#查询表内所有列表</span><br><span class="line">SELECT * </span><br><span class="line">FROM 表名;</span><br><span class="line"></span><br><span class="line">#方法二</span><br><span class="line">SELECT 所有列名</span><br><span class="line">FROM 表名;</span><br></pre></td></tr></table></figure>

<p>查询<strong>常量值：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#字符型与日期型的常量值必须使用单引号</span><br><span class="line">SELECT 数字;</span><br><span class="line">SELECT &#x27;字符&#x27;;</span><br></pre></td></tr></table></figure>

<p>查询<strong>表达式：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 表达式;</span><br></pre></td></tr></table></figure>

<p>查询<strong>函数：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 函数();</span><br></pre></td></tr></table></figure>

<p>起别名：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#方法一</span><br><span class="line">#建议别名加双引号</span><br><span class="line">SELECT 列名 AS 别名</span><br><span class="line">FROM 表名;</span><br><span class="line"></span><br><span class="line">#方法二</span><br><span class="line">SELECT 列名 别名</span><br><span class="line">FROM 表名;</span><br></pre></td></tr></table></figure>

<p>如果查询的字段有重名的情况，使用别名可以进行区分</p>
<p>去重：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT DISTINCT 列名</span><br><span class="line">FROM 表名;</span><br></pre></td></tr></table></figure>

<p>+号的作用：只有运算符一个功能</p>
<ul>
<li>如果两个操作数都为数值型，则做加法运算</li>
<li>如果一方为字符型，试图将字符型转换为数值型<ul>
<li>如果转换成功，则继续做加法运算</li>
<li>如果转换失败，则将字符型转换为零</li>
</ul>
</li>
<li>如果其中一方为null，则结果一定为null</li>
<li>如果希望使用字符相加，则使用<code>CONCAT(str1,str2...)</code>函数（详见后面章节）</li>
<li>如果列存在为null数值和不为null的数值则可以使用<code>IFNULL(列名, 为null时自定义数值)</code></li>
</ul>
<h3 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h3><p><strong>语法：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 列名</span><br><span class="line">FROM 表名</span><br><span class="line">WHERE 筛选条件;</span><br></pre></td></tr></table></figure>

<p>筛选条件分类：</p>
<ul>
<li>按条件表达式筛选<ul>
<li>条件运算符：&#x3D;、&gt;、&lt;、&gt;&#x3D;、&lt;&#x3D;、!&#x3D;（&lt;&gt;）</li>
</ul>
</li>
<li>按逻辑表达式筛选<ul>
<li>逻辑运算符：&amp;&amp;（and）、||（or）、!（not）</li>
</ul>
</li>
<li>模糊查询：<ul>
<li>like、between、in、is null</li>
</ul>
</li>
</ul>
<p>按条件表达式筛选：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 列名</span><br><span class="line">FROM 表名</span><br><span class="line">WHERE 条件表达式;</span><br></pre></td></tr></table></figure>

<p>按逻辑表达式筛选：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 列名</span><br><span class="line">FROM 表名</span><br><span class="line">WHERE 逻辑表达式;</span><br></pre></td></tr></table></figure>

<p>模糊查询：</p>
<ul>
<li><p>LIKE关键字：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 列名</span><br><span class="line">FROM 表名</span><br><span class="line">WHERE 列名 LIKE &#x27;%可能包含的字符%&#x27;;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>一般和通配符搭配使用</p>
<ul>
<li>% 任意多个字符，包含0个字符</li>
<li>_ 任意单个字符</li>
</ul>
<p>转义使用反斜杠\，或使用自定义转移符号<code>ESCAPE &#39;自定义转移符号&#39;</code></p>
</li>
</ul>
</li>
<li><p>BETWEEN AND关键字：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 列名</span><br><span class="line">FROM 表名</span><br><span class="line">WHERE 列名 BETWEEN 数值 AND 数值;</span><br></pre></td></tr></table></figure>

<ul>
<li>使用BETWEEN AND可以调高代码简洁度</li>
<li>包含临界值，且两个临界值不可以颠倒</li>
</ul>
</li>
<li><p>IN关键字：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 列名</span><br><span class="line">FROM 表名</span><br><span class="line">WHERE 列名 IN(数值1, 数值2...);</span><br></pre></td></tr></table></figure>

<ul>
<li>使用IN可以提高代码简洁度</li>
<li>IN列表的值类型必须一致或兼容（’123’ -&gt; 123）</li>
<li>不可以使用通配符</li>
</ul>
</li>
<li><p>IS NULL关键字：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 列名</span><br><span class="line">FROM 表名</span><br><span class="line">WHERE 列名 IS NULL;</span><br></pre></td></tr></table></figure>

<ul>
<li>&#x3D; NULL等于号不能判断NULL值</li>
<li>可读性较高</li>
</ul>
</li>
<li><p>安全等于：&lt;&#x3D;&gt;</p>
<ul>
<li>判断的为是否等于的值，可以判断NULL值和标准值</li>
<li>可读性较差，一般不使用</li>
</ul>
</li>
</ul>
<h3 id="排序查询"><a href="#排序查询" class="headerlink" title="排序查询"></a>排序查询</h3><p><strong>语法：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 列名</span><br><span class="line">FROM 表名</span><br><span class="line">ORDER BY 列名 ASC(升序)|DESC(降序);</span><br></pre></td></tr></table></figure>

<p>如果不进行升降序约束，默认条件下为升序排序</p>
<p>ORDER BY子句一般是放在查询语句的最后面，LIMIT子句除外</p>
<p>排序查询的常用情况：</p>
<ul>
<li><p>排序查询与条件查询进行结合：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 列名</span><br><span class="line">FROM 表名</span><br><span class="line">WHERE 筛选条件</span><br><span class="line">ORDER BY 列名 ASC(升序)|DESC(降序);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ORDER BY后可以为表达式：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 列名</span><br><span class="line">FROM 表名</span><br><span class="line">ORDER BY 表达式 ASC(升序)|DESC(降序);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ORDER BY后可以为别名：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 列名</span><br><span class="line">FROM 表名</span><br><span class="line">ORDER BY 别名 ASC(升序)|DESC(降序);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ORDER BY后可以为函数：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 列名</span><br><span class="line">FROM 表名</span><br><span class="line">ORDER BY 函数 ASC(升序)|DESC(降序);</span><br><span class="line"></span><br><span class="line">#例</span><br><span class="line">SELECT 列名</span><br><span class="line">FROM 表名</span><br><span class="line">ORDER BY LENGTH() ASC(升序)|DESC(降序);</span><br></pre></td></tr></table></figure>
</li>
<li><p>按多个字段排序：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 列名</span><br><span class="line">FROM 表名</span><br><span class="line">ORDER BY 字段1 ASC(升序)|DESC(降序), 字段2 ASC(升序)|DESC(降序)...;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="常见函数"><a href="#常见函数" class="headerlink" title="常见函数"></a>常见函数</h3><p>将一组逻辑语句封装在方法体中，对外提供方法接口。隐藏了实现细节、提高了代码的复用性</p>
<p>函数调用：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 函数名(实参列表)</span><br><span class="line">FROM 表名;</span><br></pre></td></tr></table></figure>

<p>分类：单行函数（concat、length、ifnull等）、分组函数（统计使用，又称为统计函数、聚合函数、组函数）</p>
<h4 id="单行函数"><a href="#单行函数" class="headerlink" title="单行函数"></a>单行函数</h4><p><strong>字符函数：</strong></p>
<ul>
<li><code>LENGTH(str)</code>获取参数值的字节个数</li>
<li><code>CONCAT(str)</code>拼接字符串</li>
<li><code>UPPER(str)</code> <code>LOWER(str)</code>大写小写转换</li>
<li><code>SUBSTR(str1, pos[, len])</code>截取字符串</li>
<li><code>INSTR(str1, str2)</code>返回子串第一次在主串中出现的索引位置</li>
<li><code>TRIM(str1 FROM str2)</code>将str2中开头和结尾的str1去除</li>
<li><code>LPAD(str, len, padstr)</code>总字符个数为len个，在str左侧使用padstr填充</li>
<li><code>RPAD(str, len, padstr)</code>总字符个数为len个，在str右侧使用padstr填充</li>
<li><code>REPLACE(str, from_str, to_str)</code>使用to_str替换str中的from_str</li>
</ul>
<p><strong>数学函数：</strong></p>
<ul>
<li><code>round(x[, d])</code>四舍五入，d为小数点后保留位数</li>
<li><code>CEIL(x)</code>向上取整</li>
<li><code>FLOOR()</code>向下取整</li>
<li><code>TRUNCATE(x, d)</code>截断，x小数点后保留d位</li>
<li><code>MOD(n, m)</code>取余运算，n % m</li>
<li><code>RAND()</code>返回随机数，0-1之间</li>
</ul>
<p><strong>日期函数：</strong></p>
<ul>
<li><p><code>NOW()</code>返回当前系统日期+时间、</p>
</li>
<li><p><code>CURDATA()</code>返回当前系统日期，不包含时间</p>
</li>
<li><p><code>CURTIME()</code>返回当前系统时间，不包含日期</p>
</li>
<li><p><code>YEAR(date)</code>返回date的年份</p>
</li>
<li><p><code>MONTH(date)</code>返回date的月份、<code>MONTHNAME(date)</code>返回date的月份（英文）</p>
<p>除年（year）、月（month）外，还包含日（day）、小时（hour）、分钟（minute）、秒（second）</p>
</li>
<li><p><code>STR_TO_DATE(str, &#39;%m-%d-%Y&#39;)</code>将日期格式的字符转换为日期类型</p>
<table>
<thead>
<tr>
<th align="center">格式符</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td align="center">%Y</td>
<td>四位的年份</td>
</tr>
<tr>
<td align="center">%y</td>
<td>两位的年份</td>
</tr>
<tr>
<td align="center">%m</td>
<td>月份（01， 02，…）</td>
</tr>
<tr>
<td align="center">%c</td>
<td>月份（1，2，…）</td>
</tr>
<tr>
<td align="center">%d</td>
<td>日（01，02，…）</td>
</tr>
<tr>
<td align="center">%H</td>
<td>小时（24小时制）</td>
</tr>
<tr>
<td align="center">%h</td>
<td>小时（12小时制）</td>
</tr>
<tr>
<td align="center">%i</td>
<td>分钟（00，01，…59）</td>
</tr>
<tr>
<td align="center">%s</td>
<td>秒（00，01，…59）</td>
</tr>
</tbody></table>
</li>
<li><p><code>DATE_FORMAT(&#39;年-月-日&#39;, &#39;%Y年%m月%d日&#39;)</code>将日期格式类型转换为日期字符串</p>
</li>
<li><p><code>datediff(str1, str2)</code>返回两个日期相差天数</p>
</li>
</ul>
<h4 id="其他函数"><a href="#其他函数" class="headerlink" title="其他函数"></a>其他函数</h4><ul>
<li><code>VERSION();</code>查看当前版本号</li>
<li><code>DATABASE();</code>查看当前使用数据库</li>
<li><code>USER();</code>当前用户</li>
<li><code>PASSWORD()</code>返回该字符的密码形式</li>
<li><code>MD5()</code>返回该字符的MD5加密形式</li>
</ul>
<h4 id="流程控制函数"><a href="#流程控制函数" class="headerlink" title="流程控制函数"></a>流程控制函数</h4><ul>
<li><p>if函数：<code>IF(expr1, expr2, expr3)</code>如果条件1成立返回表达式2，如果条件不成立返回表达式3</p>
</li>
<li><p>case函数：</p>
<ul>
<li><p>类似于switch case的效果</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  CASE</span><br><span class="line">  	需要判断的表达式</span><br><span class="line">  WHEN 常量1 THEN 语句或值1;</span><br><span class="line">  WHEN 常量2 THEN 语句或值2;</span><br><span class="line">  ...</span><br><span class="line">  ELSE</span><br><span class="line">  	语句或值n;</span><br><span class="line">END</span><br></pre></td></tr></table></figure>

<p>then后的语句为值时不需要分号</p>
</li>
<li><p>多重if</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CASE</span><br><span class="line">WHEN 条件1 THEN 语句或值1;</span><br><span class="line">WHEN 条件2 THEN 语句或值2;</span><br><span class="line">...</span><br><span class="line">ELSE</span><br><span class="line">	语句或值n;</span><br><span class="line">END</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="分组函数"><a href="#分组函数" class="headerlink" title="分组函数"></a>分组函数</h4><p>用作统计使用，又称为聚合函数或统计函数或组函数</p>
<ul>
<li><code>SUM([DISTINCT] expr)</code>求和</li>
<li><code>AVG([DISTINCT] expr)</code>平均值</li>
<li><code>MIN([DISTINCT] expr)</code>最小值</li>
<li><code>MAX([DISTINCT] expr)</code>最大值</li>
<li><code>COUNT([DISTINCT] expr, [expr...])</code>计算个数（非空）</li>
</ul>
<p>参数支持类型：</p>
<p>sum、avg一般用于处理数值型计算</p>
<p>min、max、count支持处理所有类型</p>
<p>所有分组函数使用时忽略null值</p>
<p>与distinct搭配使用，在运算时将所有重复值进行去除</p>
<p>效率：<code>COUNT(*)</code>一般用于统计表的行数</p>
<ul>
<li>MyISAM存储引擎下，<code>COUNT(*)</code>效率最高</li>
<li>InnoDB存储引擎下，<code>COUNT(*)</code>与<code>COUNT(1)</code>效率相同</li>
</ul>
<p>和分组函数一同查询的字段要求是group by后的字段</p>
<h3 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h3><p><strong>语法：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT</span><br><span class="line">	查询列表</span><br><span class="line">FROM</span><br><span class="line">	表名</span><br><span class="line">GROUP BY</span><br><span class="line">	列名;</span><br></pre></td></tr></table></figure>

<p>一般要求查询列表中的元素必须出现在group by中，否则将会导致分组出错</p>
<p>根据筛选数据源，对筛选条件分为两类：</p>
<ul>
<li><p>分组前的筛选：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#数据源为原始表，使用WHERE分组前筛选</span><br><span class="line">SELECT</span><br><span class="line">	查询列表</span><br><span class="line">FROM</span><br><span class="line">	表名</span><br><span class="line">WHERE</span><br><span class="line">	条件表达式</span><br><span class="line">GROUP BY</span><br><span class="line">	列名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>分组后的筛选：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#数据源为分组后的结果集，使用HAVING分组后筛选</span><br><span class="line">SELECT</span><br><span class="line">	查询列表</span><br><span class="line">FROM</span><br><span class="line">	表名</span><br><span class="line">GROUP BY</span><br><span class="line">	列名</span><br><span class="line">HAVING</span><br><span class="line">	筛选条件;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>能使用分组前筛选的，优先考虑分组钱筛选</p>
<p>按多个字段进行分组：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT</span><br><span class="line">	查询列表</span><br><span class="line">FROM</span><br><span class="line">	表名</span><br><span class="line">GROUP BY</span><br><span class="line">	列名1, </span><br><span class="line">	列名2...;</span><br></pre></td></tr></table></figure>

<p>对分组结果进行排序：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT</span><br><span class="line">	查询列表</span><br><span class="line">FROM</span><br><span class="line">	表名</span><br><span class="line">GROUP BY</span><br><span class="line">	列名</span><br><span class="line">[ORDER BY 列名];</span><br></pre></td></tr></table></figure>

<h3 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h3><p>又称为多表查询，当查询的字段来自于多个表时，会使用连接查询</p>
<p>笛卡尔乘积现象：表1有m行，表2有n行，结果有m*n行</p>
<p>一般使用sql99标准（不支持全外连接）</p>
<p>sql99的语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT</span><br><span class="line">	查询列表</span><br><span class="line">FROM</span><br><span class="line">	表1 别名</span><br><span class="line">[连接类型] JOIN 表2 别名 ON 连接条件</span><br><span class="line">[WHERE 筛选条件]</span><br><span class="line">[GROUP BY 分组]</span><br><span class="line">[HAVING 筛选条件]</span><br><span class="line">[ORDER BY 排序列表];</span><br></pre></td></tr></table></figure>

<p>连接类型：内连接（inner）、左外连接（left[outer]）、右外连接（right[outer]）、全外连接（full[outer]）、交叉连接（cross）</p>
<ul>
<li><p><strong>内连接：</strong></p>
<ul>
<li><p>等值连接（sql92）：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#连接条件为=</span><br><span class="line">SELECT</span><br><span class="line">	查询列表</span><br><span class="line">FROM</span><br><span class="line">	表名1, 表名2...</span><br><span class="line">WHERE</span><br><span class="line">	等值连接条件;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT</span><br><span class="line">	查询列表</span><br><span class="line">FROM</span><br><span class="line">	表名1</span><br><span class="line">INNER JOIN 表名2 ON 连接条件</span><br></pre></td></tr></table></figure>



<ul>
<li>为解决多表中的字段重名问题，往往为表起别名，提高语义性</li>
<li>表的顺序可以无要求</li>
<li>多表连接的结果为多表的交集部分，n表连接至少需要n-1个连接条件</li>
</ul>
</li>
<li><p>非等值连接：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#连接条件不为=</span><br><span class="line">SELECT</span><br><span class="line">	查询列表</span><br><span class="line">FROM</span><br><span class="line">	表名1,</span><br><span class="line">	表名2</span><br><span class="line">	...</span><br><span class="line">WHERE</span><br><span class="line">	等值连接条件;</span><br></pre></td></tr></table></figure>
</li>
<li><p>自连接：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT</span><br><span class="line">	查询列表</span><br><span class="line">FROM</span><br><span class="line">	表 别名1,</span><br><span class="line">	表 别名2,</span><br><span class="line">	...</span><br><span class="line">WHERE</span><br><span class="line">	等值连接条件;</span><br></pre></td></tr></table></figure>

<p>自己与自己连接（一定要取别名）</p>
</li>
</ul>
</li>
<li><p>外连接：</p>
<p>查询一个表中有，另外一张表中没有的记录（两个表的差集）</p>
<p>外连接的查询结果为主表中所有记录</p>
<p>若从表中有与主表匹配的值则显示其匹配值</p>
<p>若从表中没有与主表匹配的值则显示null</p>
<ul>
<li><strong>左外连接：</strong>left join左边的是主表</li>
<li><strong>右外连接：</strong>right join右边的是主表</li>
<li>全外连接：并集结果</li>
</ul>
</li>
<li><p>交叉连接：笛卡尔乘积</p>
</li>
</ul>
<h3 id="子查询（内查询）"><a href="#子查询（内查询）" class="headerlink" title="子查询（内查询）"></a>子查询（内查询）</h3><p>出现在其他语句中的select语句，称为子查询也称为内查询</p>
<p>外部的查询语句，称为主查询或外查询</p>
<p>按子查询出现的位置：</p>
<ul>
<li>select后面：仅支持标量子查询</li>
<li>from后面：支持表子查询</li>
<li><strong>where或having后面：</strong>标量子查询、列子查询、行子查询</li>
<li>exists（相关子查询）后面：表子查询</li>
</ul>
<p>按结果集的行列数不同：</p>
<ul>
<li><strong>标量子查询：</strong>结果集只有一行一列</li>
<li><strong>列子查询：</strong>结果集只有一列多行</li>
<li>行子查询：结果集有一行多列</li>
<li>表子查询：结果集一般为多行多列</li>
</ul>
<h4 id="where或having"><a href="#where或having" class="headerlink" title="where或having"></a>where或having</h4><p><strong>标量子查询：</strong>单行子查询</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#WHERE</span><br><span class="line">SELECT</span><br><span class="line">	查询列表</span><br><span class="line">FROM</span><br><span class="line">	表名</span><br><span class="line">WHERE</span><br><span class="line">	列名 单行操作符 (</span><br><span class="line">        #标量查询内部的子查询结果为一行一列</span><br><span class="line">        SELECT 查询列表</span><br><span class="line">        FROM 表名</span><br><span class="line">        WHERE 条件</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#HAVING</span><br><span class="line">SELECT</span><br><span class="line">	查询列表</span><br><span class="line">FROM</span><br><span class="line">	表名</span><br><span class="line">GROUP BY</span><br><span class="line">	列名	#分组</span><br><span class="line">HAVING</span><br><span class="line">	列名 单行操作符 (</span><br><span class="line">        #标量查询内部的子查询结果为一行一列</span><br><span class="line">        SELECT 查询列表</span><br><span class="line">        FROM 表名</span><br><span class="line">        WHERE 条件</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><strong>列子查询：</strong>多行子查询</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT</span><br><span class="line">	查询列表</span><br><span class="line">FROM</span><br><span class="line">	表名</span><br><span class="line">WHERE</span><br><span class="line">	列名 多行操作符 (</span><br><span class="line">    	#列查询内部的子查询结果为多行一列</span><br><span class="line">		SELECT DISTINCT	查询列表</span><br><span class="line">   		FROM 表名</span><br><span class="line">    	WHERE 条件</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>行子查询：一列多行（有局限性，不建议使用）</p>
<p>特点：</p>
<ul>
<li>子查询放在小括号内</li>
<li>子查询一般放在条件右侧</li>
<li>标量子查询一般搭配单行操作符使用<ul>
<li>单行操作符&lt; &gt; &gt;&#x3D; &lt;&#x3D; &#x3D; &lt;&gt;</li>
</ul>
</li>
<li>列子查询一般搭配多行操作符使用<ul>
<li>多行操作符：IN（等于列表中任意一个）、ANY&#x2F;SOME（返回其中任意一个值进行比较）、ALL（返回所有值进行比较）</li>
</ul>
</li>
<li>子查询执行优先于主查询执行</li>
</ul>
<h4 id="select"><a href="#select" class="headerlink" title="select"></a>select</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT</span><br><span class="line">	查询列表, (</span><br><span class="line">        SELECT 查询列表</span><br><span class="line">        FROM 表名</span><br><span class="line">        WHERE 筛选条件</span><br><span class="line">)</span><br><span class="line">FROM</span><br><span class="line">	表名;</span><br></pre></td></tr></table></figure>

<p>仅支持标量子查询</p>
<p>####from</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT</span><br><span class="line">	查询列表</span><br><span class="line">FROM (</span><br><span class="line">	SELECT 查询列表</span><br><span class="line">    FROM 表名</span><br><span class="line">    [WHERE]</span><br><span class="line">    [GROUP BY]</span><br><span class="line">    [HAVING]</span><br><span class="line">) 别名</span><br><span class="line">INNER JOIN</span><br><span class="line">	表名</span><br><span class="line">ON</span><br><span class="line">	查询条件</span><br><span class="line">[WHERE]</span><br><span class="line">[GROUP BY]</span><br><span class="line">[HAVING];</span><br></pre></td></tr></table></figure>

<p>将子查询结果充当一张表，要求必须起别名</p>
<h4 id="exists（相关子查询）"><a href="#exists（相关子查询）" class="headerlink" title="exists（相关子查询）"></a>exists（相关子查询）</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT EXISTS(</span><br><span class="line">    SELECT 查询列表</span><br><span class="line">    FROM 表名</span><br><span class="line">    [WHERE]</span><br><span class="line">    [GROUP BY]</span><br><span class="line">    [HAVING]</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>查询<code>exists()</code>中是否有值</p>
<h3 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h3><p>应用场景：在服务器提供大量数据时，进行多次输出</p>
<p> <strong>语法：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT								#⑥</span><br><span class="line">	查询列表</span><br><span class="line">FROM								#①</span><br><span class="line">	表名</span><br><span class="line">[JOIN TYPE JOIN 表名2 ON 连接条件]	#②</span><br><span class="line">[WHERE 筛选条件]					 #③</span><br><span class="line">[GROUP BY 分组字段]				     #④</span><br><span class="line">[HAVING 分组后筛选]					#⑤</span><br><span class="line">[ORDER BY 排序字段]					 #⑦</span><br><span class="line">LIMIT OFFSET, SIZE;					#⑧</span><br></pre></td></tr></table></figure>

<p><code>offset</code>要显示条目的其实索引（起始索引从0开始），如果索引值从0开始，则可以省略</p>
<p><code>size</code>要显示的条目个数</p>
<p>limit语句放在查询语句的最后</p>
<h3 id="联合查询"><a href="#联合查询" class="headerlink" title="联合查询"></a>联合查询</h3><p>union 联合 合并：将多条查询语句的结果合并成一个结果</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#查询内容1</span><br><span class="line">SELECT</span><br><span class="line">	查询列表</span><br><span class="line">FROM</span><br><span class="line">	表名</span><br><span class="line"></span><br><span class="line">UNION</span><br><span class="line">#查询内容2</span><br><span class="line">SELECT</span><br><span class="line">	查询列表</span><br><span class="line">FROM</span><br><span class="line">	表名</span><br><span class="line">...;</span><br></pre></td></tr></table></figure>

<p>注意事项：</p>
<ul>
<li>联合查询涉及的查询列表的列数必须相同</li>
<li>要求多条查询语句的查询的每一列的类型和顺序最好一致</li>
<li>union会自动去重，<code>UNION ALL</code>会保留重复元素</li>
</ul>
<hr>
<h2 id="DML语言学习（Data-Manipulation-Language）"><a href="#DML语言学习（Data-Manipulation-Language）" class="headerlink" title="DML语言学习（Data Manipulation Language）"></a>DML语言学习（Data Manipulation Language）</h2><h3 id="插入语句"><a href="#插入语句" class="headerlink" title="插入语句"></a>插入语句</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#方法一</span><br><span class="line">INSERT INTO 表名(</span><br><span class="line">	列名1,</span><br><span class="line">    ...</span><br><span class="line">)</span><br><span class="line">VALUE(</span><br><span class="line">	值1,</span><br><span class="line">    ...</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#方法二</span><br><span class="line">INSERT INTO 表名</span><br><span class="line">SET 列名1 = 值1,</span><br><span class="line">	列名2 = 值2,</span><br><span class="line">	...;</span><br></pre></td></tr></table></figure>

<p>mysql中数据常用类型：</p>
<ul>
<li>数值类型：int、float、double</li>
<li>字符类型：varchar、blob、text</li>
<li>日期和时间类型：datetime、date、time</li>
</ul>
<p>特点：</p>
<ul>
<li><p>插入值的类型要与列的类型一致</p>
</li>
<li><p>不可以为null的列必须插入值，可以为null的列可以写null</p>
</li>
<li><p>列与值的个数必须一致</p>
</li>
<li><p>可以省略列名，默认所有列，列的顺序与表中列的顺序一致</p>
</li>
</ul>
<p>方式一与方式二区别：</p>
<ul>
<li>方式一支持批量插入，方式二不支持</li>
<li>方式一支持子查询，方式二不支持</li>
</ul>
<h3 id="修改语句"><a href="#修改语句" class="headerlink" title="修改语句"></a>修改语句</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#修改单表记录</span><br><span class="line">UPDATE 表名</span><br><span class="line">SET 列 = 新值,</span><br><span class="line">	列 = 新值,</span><br><span class="line">	...</span><br><span class="line">WHERE</span><br><span class="line">	筛选条件;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#修改多表记录(拓展)</span><br><span class="line">#sql92</span><br><span class="line">UPDATE 表名1 别名1,</span><br><span class="line">	表名2 别名2</span><br><span class="line">SET 列 = 新值,</span><br><span class="line">	列 = 新值,</span><br><span class="line">	...</span><br><span class="line">WHERE</span><br><span class="line">	连接条件</span><br><span class="line">AND 筛选条件;</span><br><span class="line">	</span><br><span class="line">#sql99</span><br><span class="line">UPDATE 表名1 别名1,</span><br><span class="line">	连接类型</span><br><span class="line">JOIN IN 表名2 别名2 ON 连接条件</span><br><span class="line">SET 列 = 新值,</span><br><span class="line">	列 = 新值,</span><br><span class="line">	...</span><br><span class="line">WHERE</span><br><span class="line">	筛选条件;</span><br></pre></td></tr></table></figure>

<h3 id="删除语句"><a href="#删除语句" class="headerlink" title="删除语句"></a>删除语句</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#整行删除</span><br><span class="line">#单表删除</span><br><span class="line">DELETE FROM</span><br><span class="line">	表名</span><br><span class="line">WHERE</span><br><span class="line">	筛选条件;</span><br><span class="line"></span><br><span class="line">#方式2,直接删除表内所有数据</span><br><span class="line">TRUNCATE TABLE 表名;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#多表删除(拓展)</span><br><span class="line">#sql92</span><br><span class="line">DELETE 别名(要删谁写谁的别名) FROM</span><br><span class="line">	表名1 别名1,</span><br><span class="line">	表名2 别名2...</span><br><span class="line">WHERE</span><br><span class="line">	连接条件</span><br><span class="line">AND 筛选条件;</span><br><span class="line">	</span><br><span class="line">#sql99</span><br><span class="line">DELETE 别名 (要删谁写谁的别名) FROM</span><br><span class="line">	表名1 别名1 连接类型</span><br><span class="line">JOIN IN 表名2 别名2 ON 连接条件</span><br><span class="line">WHERE</span><br><span class="line">	筛选条件;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="DDL语言学习（Data-Define-Language）"><a href="#DDL语言学习（Data-Define-Language）" class="headerlink" title="DDL语言学习（Data Define Language）"></a>DDL语言学习（Data Define Language）</h2><p>数据定义语言：库和表的管理</p>
<p>库的管理、表的管理：创建（creat）、修改（alter）、删除（drop）</p>
<h3 id="库的管理"><a href="#库的管理" class="headerlink" title="库的管理"></a>库的管理</h3><h4 id="库的创建"><a href="#库的创建" class="headerlink" title="库的创建"></a>库的创建</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE DATABASE 库名;</span><br></pre></td></tr></table></figure>

<h4 id="库的修改"><a href="#库的修改" class="headerlink" title="库的修改"></a>库的修改</h4><p>rename命令在使用过程中会出现数据丢失，所以库一般不修改库名</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#修改库的字符集</span><br><span class="line">ALTER DATABASE 库名 CHARACTER </span><br><span class="line">SET gbk;</span><br></pre></td></tr></table></figure>

<h4 id="库的删除"><a href="#库的删除" class="headerlink" title="库的删除"></a>库的删除</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DROP DATABASE [IF EXISTS] 库名;</span><br></pre></td></tr></table></figure>

<h3 id="表的管理"><a href="#表的管理" class="headerlink" title="表的管理"></a>表的管理</h3><h4 id="表的创建"><a href="#表的创建" class="headerlink" title="表的创建"></a>表的创建</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE [IF NOT EXISTS] 表名(</span><br><span class="line">	列名 列的类型[(长度) 约束],</span><br><span class="line">    ...</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="表的修改"><a href="#表的修改" class="headerlink" title="表的修改"></a>表的修改</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#修改列名</span><br><span class="line">ALTER TABLE 表名 CHANGE COLUMN 旧列名 新列名 类型;</span><br><span class="line"></span><br><span class="line">#修改列的类型或约束</span><br><span class="line">ALTER TABLE 表名 MODIFY COLUMN 列名 新类型;</span><br><span class="line"></span><br><span class="line">#添加新列</span><br><span class="line">ALTER TABLE 表名 ADD COLUMN 列名 类型[FIRST|AFTER 列名];</span><br><span class="line"></span><br><span class="line">#删除列</span><br><span class="line">ALTER TABLE 表名 DROP COLUMN 列名;</span><br><span class="line"></span><br><span class="line">#修改表名</span><br><span class="line">ALTER TABLE 表名 RENAME TO 新表名;</span><br></pre></td></tr></table></figure>

<h4 id="表的删除"><a href="#表的删除" class="headerlink" title="表的删除"></a>表的删除</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DROP TABLE [IF EXISTS] 表名;</span><br></pre></td></tr></table></figure>

<h4 id="表的复制"><a href="#表的复制" class="headerlink" title="表的复制"></a>表的复制</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#仅仅复制表的结构</span><br><span class="line">CREATE TABLE 新表名 LIKE 被复制表名;</span><br><span class="line"></span><br><span class="line">#复制表的结构和数据</span><br><span class="line">CREATE TABLE 新表名 SELECT</span><br><span class="line">	*</span><br><span class="line">FROM</span><br><span class="line">	被复制表名;</span><br><span class="line"></span><br><span class="line">#只复制部分数据</span><br><span class="line">CREATE TABLE 新表名 SELECT</span><br><span class="line">	*</span><br><span class="line">FROM</span><br><span class="line">	被复制表名</span><br><span class="line">WHERE</span><br><span class="line">	限制条件;</span><br></pre></td></tr></table></figure>

<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>常见的数据类型：</p>
<ul>
<li>数值型：整型、小数（定点数、浮点数）</li>
<li>字符型：短文本（char、varchar）、长文本（text、blob）</li>
<li>日期型</li>
</ul>
<h4 id="整型"><a href="#整型" class="headerlink" title="整型"></a>整型</h4><table>
<thead>
<tr>
<th>整数类型</th>
<th>字节</th>
<th>范围</th>
</tr>
</thead>
<tbody><tr>
<td>Tinyint</td>
<td>1</td>
<td>有符号：-128 ~ 127、无符号：0 ~ 255</td>
</tr>
<tr>
<td>Smallint</td>
<td>2</td>
<td>有符号：-2^15^ ~ 2^15^-1、无符号：0 ~ 2^16^-1</td>
</tr>
<tr>
<td>Mediumint</td>
<td>3</td>
<td>有符号：-2^23^ ~ 2^23^-1、无符号：0 ~ 2^24^-1</td>
</tr>
<tr>
<td>Bigint</td>
<td>8</td>
<td>有符号：-2^63^ ~ 2^63^-1、无符号：0 ~ 2^64^-1</td>
</tr>
<tr>
<td>Int、integer</td>
<td>4</td>
<td>有符号：-2^31^ ~ 2^31^-1、无符号：0 ~ 2^32^-1</td>
</tr>
</tbody></table>
<p>特点：</p>
<ul>
<li><p>如果不设置无符号还是有符号，默认就是有符号；如果需要设置无符号，则在整数类型后追加UNSIGNED</p>
</li>
<li><p>如果插入的数值超出了整型的范围，则默认插入临界值（不同mysql版本可能不会插入数值直接报错）</p>
</li>
<li><p>如果不设置长度，则有默认长度</p>
<p>长度代表了显示的最大宽度，如果不够会在0左边填充，必须搭配zerofull使用，符号类型失效</p>
</li>
</ul>
<h4 id="小数"><a href="#小数" class="headerlink" title="小数"></a>小数</h4><table>
<thead>
<tr>
<th>浮点数类型</th>
<th>字节</th>
<th>范围</th>
</tr>
</thead>
<tbody><tr>
<td>float</td>
<td>4</td>
<td>-2^128^ ~ 2^128^</td>
</tr>
<tr>
<td>double</td>
<td>8</td>
<td>-2^1024^ ~ 2^1024^</td>
</tr>
<tr>
<td><strong>定点数类型</strong></td>
<td><strong>字节</strong></td>
<td><strong>范围</strong></td>
</tr>
<tr>
<td>DEC(M, D)、DECIMAL(M, D)</td>
<td>M+2</td>
<td>最大取值范围与double相同，给定decimal的有效范围有M、D决定</td>
</tr>
</tbody></table>
<p>特点：</p>
<ul>
<li>M整数部位+小数部位长度、D小数部位长度，不能超出范围，M、D均可以省略（定点数时M默认为10，D默认为0）</li>
<li>定点数的精度较高，要求插入数值的精度较高时应用</li>
</ul>
<h4 id="字符型"><a href="#字符型" class="headerlink" title="字符型"></a>字符型</h4><p><strong>较短文本</strong></p>
<table>
<thead>
<tr>
<th>字符串类型</th>
<th>最多字符数</th>
<th>描述及存储需求</th>
</tr>
</thead>
<tbody><tr>
<td>char(M)</td>
<td>M</td>
<td>M为0 ~ 255之间的整数</td>
</tr>
<tr>
<td>varchar(M)</td>
<td>M</td>
<td>M为0 ~ 65535之间的整数</td>
</tr>
</tbody></table>
<p>特点：</p>
<ul>
<li>char表示固定长度的字符、varchar表示可变长度的字符</li>
<li>char效率较高、varchar效率较低</li>
<li>char</li>
</ul>
<p><strong>ENUM枚举型</strong></p>
<p>仅可以插入枚举中定义的元素，枚举中未定义的元素插入为空</p>
<p><strong>其他</strong></p>
<p>binary、varbinary用于保存较短的二进制</p>
<p>set用于保存集合</p>
<h4 id="日期类型"><a href="#日期类型" class="headerlink" title="日期类型"></a>日期类型</h4><table>
<thead>
<tr>
<th>日期和时间类型</th>
<th>字节</th>
<th>最小值</th>
<th>最大值</th>
</tr>
</thead>
<tbody><tr>
<td>date</td>
<td>4</td>
<td>1000-01-01</td>
<td>9999-12-31</td>
</tr>
<tr>
<td>datetime</td>
<td>8</td>
<td>1000-01-01 00:00:00</td>
<td>9999-12-31 23:59:59</td>
</tr>
<tr>
<td>timestamp</td>
<td>4</td>
<td>19700101 080001</td>
<td>2038年某个时刻</td>
</tr>
<tr>
<td>time</td>
<td>3</td>
<td>-838:59:59</td>
<td>838:59:59</td>
</tr>
<tr>
<td>year</td>
<td>1</td>
<td>1901</td>
<td>2155</td>
</tr>
</tbody></table>
<p>timestamp和实际时区有关，更能反映实际的日期，受  mysql版本和sqlmode影响较大</p>
<h3 id="常见约束"><a href="#常见约束" class="headerlink" title="常见约束"></a>常见约束</h3><p>一种限制，用于限制表中的数据，为了保障添表中数据的准确性和可靠性</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE 表名(</span><br><span class="line">	字段名 字段类型 约束</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>分类：</p>
<ul>
<li><p><code>NOT NULL</code>非空约束，用于保障该字段的值不能为空</p>
</li>
<li><p><code>DEFAULT</code>默认约束，用于保障该字段有默认值</p>
</li>
<li><p><code>PRIMARY KEY</code>主键约束，用于保障该字段的值具有唯一性，并且非空</p>
</li>
<li><p><code>UNIQUE</code>唯一约束，用于保障该字段的值具有唯一性，可以为空</p>
</li>
<li><p><code>CHACK</code>检查约束（mysql不支持）</p>
</li>
<li><p><code>FOREIGN KEY</code>外键约束，用于限制两个表的关系，用于保障该字段的值必须来自于主表的关联列的值</p>
<p>在从表添加外键约束，用于引用主表中某列的值</p>
</li>
</ul>
<p>添加约束的时机：</p>
<ul>
<li>创建表时</li>
<li>修改表时</li>
</ul>
<p>约束的添加分类：</p>
<ul>
<li>列级约束：不支持外键约束</li>
<li>表级约束：脱离所有字段，在所有字段之后，不支持非空约束和默认约束</li>
</ul>
<h4 id="创建表时添加约束"><a href="#创建表时添加约束" class="headerlink" title="创建表时添加约束"></a>创建表时添加约束</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#添加列级约束</span><br><span class="line">CREATE DATABASE 库名;</span><br><span class="line">USE 库名;</span><br><span class="line">CREATE TABLE 表名(</span><br><span class="line">	字段名 字段类型 约束类型,</span><br><span class="line">    ...</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>直接在字段名和类型后面追加约束类型即可，不支持外键约束</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#添加表级约束</span><br><span class="line">CREATE DATABASE 库名;</span><br><span class="line">USE 库名;</span><br><span class="line">CREATE TABLE 表名(</span><br><span class="line">	字段名 字段类型,</span><br><span class="line">    ...,</span><br><span class="line">    [CONSTRAINT 约束名] 约束类型(字段名),</span><br><span class="line">    ...</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>一般情况下，非空约束、默认约束、主键约束、唯一约束使用列级约束，外键约束使用表级约束（外键约束一定要起约束名）</p>
<h4 id="主键与唯一"><a href="#主键与唯一" class="headerlink" title="主键与唯一"></a>主键与唯一</h4><table>
<thead>
<tr>
<th></th>
<th>主键</th>
<th>唯一</th>
</tr>
</thead>
<tbody><tr>
<td>保证唯一性</td>
<td>√</td>
<td>√</td>
</tr>
<tr>
<td>是否允许为空</td>
<td>×</td>
<td>√</td>
</tr>
<tr>
<td>一个表中有多少个</td>
<td>至多一个</td>
<td>可以有多个</td>
</tr>
<tr>
<td>是否允许组合</td>
<td>√</td>
<td>√</td>
</tr>
</tbody></table>
<h4 id="外键"><a href="#外键" class="headerlink" title="外键"></a>外键</h4><p>要在从表中设置外键关系</p>
<p>从表的外键列的类型和主表的关联列的类型要求一致或兼容，名称无要求</p>
<p>主表中的关联列必须是一个key（主键、唯一、外键）</p>
<p>插入数据时，先插入主表，再插入从表</p>
<p>删除数据时，先删除从表，再删除主表</p>
<h4 id="修改表时添加约束"><a href="#修改表时添加约束" class="headerlink" title="修改表时添加约束"></a>修改表时添加约束</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#列级约束</span><br><span class="line">ALTER TABLE 表名 MODIFY COLUMN 列名 新类型 约束;</span><br><span class="line"></span><br><span class="line">#表级约束,外键</span><br><span class="line">ALTER TABLE 表名 ADD [CONSTRAINT 约束名] FOREIGN KEY(列名) REFERENCES 主表的列;</span><br></pre></td></tr></table></figure>

<h4 id="修改表时删除约束"><a href="#修改表时删除约束" class="headerlink" title="修改表时删除约束"></a>修改表时删除约束</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#删除默认约束,默认约束</span><br><span class="line">ALTER TABLE 表名 MODIFY COLUMN 列名 新类型;</span><br><span class="line"></span><br><span class="line">#删除主键约束</span><br><span class="line">ALTER TABLE 表名 DROP PRIMARY KEY;</span><br><span class="line"></span><br><span class="line">#删除唯一约束</span><br><span class="line">ALTER TABLE 表名 DROP INDEX 约束名;</span><br><span class="line"></span><br><span class="line">#删除外键约束</span><br><span class="line">ALTER TABLE 表名 DROP FOREIGN KEY 约束名;</span><br></pre></td></tr></table></figure>

<h3 id="标识列"><a href="#标识列" class="headerlink" title="标识列"></a>标识列</h3><p>又称为自增长列，可以不用手动插入值，系统提供默认的序列值</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE 表名(</span><br><span class="line">	字段名 字段类型 AUTO_INCREMENT,</span><br><span class="line">    ...</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#修改自增长步长</span><br><span class="line">SET auto_increment_increment = 步长;</span><br></pre></td></tr></table></figure>

<p>特点：</p>
<ul>
<li><p>标识列必须和key搭配</p>
</li>
<li><p>一个表中至多有一个标识列</p>
</li>
<li><p>标识列的类型只能是数值型，一般为int类型</p>
</li>
<li><p>标识列可以自定义步长，也可以自定义起始值（一般不推荐）</p>
</li>
</ul>
<hr>
<h2 id="TCL语言学习（Transaction-Contral-Language）"><a href="#TCL语言学习（Transaction-Contral-Language）" class="headerlink" title="TCL语言学习（Transaction Contral Language）"></a>TCL语言学习（Transaction Contral Language）</h2><h3 id="事物的介绍"><a href="#事物的介绍" class="headerlink" title="事物的介绍"></a>事物的介绍</h3><p><strong>事务：</strong>一个或一组sql语句组成一个执行单元，每个sql语句是相互依赖的，这个执行单元要么全部执行，要不全部不执</p>
<p><strong>存储引擎：</strong></p>
<p>概念：在mysql中的数据用各种不同的技术存储在文件（或内存）中</p>
<p>通过show engines;来查看mysql支持的存储引擎</p>
<p>在mysql中用的最多的存储引擎有：innodb、myisam、memory等。其中innodb支持事务，而myisam、memory等不支持事务</p>
<p><strong>事务的ACID属性：</strong></p>
<ul>
<li><p>原子性（Atomicity）</p>
<p>原子性是指事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生</p>
</li>
<li><p>一致性（Consistency）</p>
<p>事务必须使数据库从一个一致性状态变换到另一个一致性状态</p>
</li>
<li><p>隔离性（Isolation）</p>
<p>事务的隔离性是指一个事务的执行不能被其他事务干扰，即一个事务内部的操作及使用的数据对并发的其他事务是隔离的，并发执行的各个事务之间不能互相干扰</p>
</li>
<li><p>持久性（Durability）</p>
<p>持久性是一个事务一旦被提交，它对数据库中数据的改变就是永久性的，接下来的其他操作和数据库故障不应该对其有任何影响</p>
</li>
</ul>
<h3 id="事物的创建"><a href="#事物的创建" class="headerlink" title="事物的创建"></a>事物的创建</h3><p>隐式事务：事务没有明显的开启和结束的标记，例如：insert、update、delete</p>
<p>显示事务：事务具有明显的开启和结束标记，必须先设置自动提交功能为禁止<code>set autocommit = 0;</code></p>
<p>显示事务的开启步骤：</p>
<ul>
<li><p>开启事务</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SET AUTOCOMMIT = 0;</span><br><span class="line">START TRANSACTION; #可选</span><br></pre></td></tr></table></figure>
</li>
<li><p>编写事物的sql语句（select、insert、update、delete）</p>
<p>语句1；</p>
<p>语句2；</p>
<p>或设置回滚点（<code>savepoint 回滚点名</code>）</p>
</li>
<li><p>结束事务</p>
<p><code>commit;</code>提交事务</p>
<p><code>rollback;</code>回滚事务，数据只保留到内存并不会写入数据库</p>
<p><code>rollback to 回滚点名;</code></p>
</li>
</ul>
<p>对于同时运行的多个事务，当这些事务访问数据库中相同的数据时，如果没有采取必要的隔离机制，就会导致一下问题：</p>
<ul>
<li>脏读：对于两个事务T1、T2，T1读取了已经被T2更新但还没有被提交的字段之后，若 T2 回滚，T1读取的内容就是临时且无效的</li>
<li>不可重复读：对于两个事务T1、T2，T1读取了一个字段，然后T2 更新了该字段。之后，T1再次读取同一个字段，值就不同了</li>
<li>幻读：对于两个事务T1、T2，T1从一个表中读取了一个字段，然后T2在该表中插入了一些新的行。之后，如果 T1再次读取同一个表，就会多出几行</li>
</ul>
<p><strong>数据库事务的隔离性：</strong>数据库系统个必须具有隔离并发运行各事务的能力，使它们不会相互影响，避免各种并发问题</p>
<h3 id="回滚点"><a href="#回滚点" class="headerlink" title="回滚点"></a>回滚点</h3><p><code>savepoint 节点名;</code>设置保存点</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SET autocommit = 0;</span><br><span class="line">START TRANSACTION;</span><br><span class="line">DELECT FROM 表名 WHERE 条件;</span><br><span class="line">SAVEPOINT a;</span><br><span class="line">DELECT FROM 表名 WHERE 条件;</span><br><span class="line">ROLLBACK TO a;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h2><h3 id="视图的介绍"><a href="#视图的介绍" class="headerlink" title="视图的介绍"></a>视图的介绍</h3><p>虚拟的表，和普通表一样使用</p>
<p>mysql5.0.1版本出现的新特性，是通过表动态生成的数据，行和列的数据来自定义视图的查询中使用的表。只保存sql逻辑，不保存查询结果</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE VIEW v1</span><br><span class="line">AS</span><br><span class="line">SELECT 列名</span><br><span class="line">FROM 表名1</span><br><span class="line">INNER JOIN 表名2 ON 连接条件;</span><br><span class="line"></span><br><span class="line">SELECT * FROM v1 WHERE 条件;</span><br></pre></td></tr></table></figure>

<p>应用场景：</p>
<ul>
<li>多个地方用到同样的查询结果</li>
<li>该查询结果使用的sql语句比较复杂</li>
</ul>
<h3 id="视图的创建"><a href="#视图的创建" class="headerlink" title="视图的创建"></a>视图的创建</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT VIEW 视图名</span><br><span class="line">AS</span><br><span class="line">查询语句</span><br></pre></td></tr></table></figure>

<ul>
<li>重用sql语句</li>
<li>简化复杂的sql操作，不必知道它的查询细节</li>
<li>保护数据提高安全性</li>
</ul>
<h3 id="视图的修改"><a href="#视图的修改" class="headerlink" title="视图的修改"></a>视图的修改</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 方式一</span><br><span class="line">CREATE OR REPLACE VIEW 视图名</span><br><span class="line">AS</span><br><span class="line">查询语句</span><br><span class="line"></span><br><span class="line"># 方式二</span><br><span class="line">ALTER VIEW 视图名</span><br><span class="line">AS</span><br><span class="line">查询语句</span><br></pre></td></tr></table></figure>

<h3 id="视图的删除"><a href="#视图的删除" class="headerlink" title="视图的删除"></a>视图的删除</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DROP VIEW 视图名,...</span><br></pre></td></tr></table></figure>

<h3 id="视图的查看"><a href="#视图的查看" class="headerlink" title="视图的查看"></a>视图的查看</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 方式一</span><br><span class="line">DESC 视图名</span><br><span class="line"># 方式二</span><br><span class="line">SHOW CREATE VIEW 视图名</span><br></pre></td></tr></table></figure>

<h3 id="视图的更新"><a href="#视图的更新" class="headerlink" title="视图的更新"></a>视图的更新</h3><p>视图支持插入、更新、删除，且操作时会直接操作原始表中，所以我们在创建视图时会对其设置权限</p>
<p>以下视图是不允许进行更新：</p>
<ul>
<li>包含一下关键字的sql语句：分组函数、destinct、group by、having、union或union all</li>
<li>select中包含子查询</li>
<li>join</li>
<li>from一个不能更新的视图</li>
<li>where子句的子查询引用了from子句中的表</li>
</ul>
<h3 id="视图与表"><a href="#视图与表" class="headerlink" title="视图与表"></a>视图与表</h3><table>
<thead>
<tr>
<th></th>
<th>视图</th>
<th>表</th>
</tr>
</thead>
<tbody><tr>
<td>创建语法的关键字</td>
<td>create view</td>
<td>create table</td>
</tr>
<tr>
<td>是否占用实际空间</td>
<td>只保存sql逻辑</td>
<td>保存数据</td>
</tr>
<tr>
<td>使用</td>
<td>一般只用于查询</td>
<td>增删改查</td>
</tr>
</tbody></table>
<h3 id="delete和truncate"><a href="#delete和truncate" class="headerlink" title="delete和truncate"></a>delete和truncate</h3><p>delete支持回滚，truncate不支持回滚</p>
<hr>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>系统变量：全局变量、会话变量</p>
<p>自定义变量：用户变量、局部变量</p>
<h3 id="系统变量"><a href="#系统变量" class="headerlink" title="系统变量"></a>系统变量</h3><p>变量由系统提供，不是用户定义，属于服务器层面</p>
<p>使用语法：</p>
<ul>
<li>查看所有的系统变量：<code>SHOW GLOBAL|SESSION VARIABLES;</code></li>
<li>查看满足条件的部分系统变量：<code>SHOW GLOBAL|SESSION VARIABLES LIKE &#39;%char%;&#39;</code></li>
<li>查看指定的某个系统变量的值<code>SELECT @@GLOBAL|SESSION.系统变量名</code></li>
<li>为某个系统变量赋值<code>SET GLOBAL|SESSION 系统变量名=值;</code></li>
</ul>
<p>全局变量作用域：服务器每次启动将为所有的全局变量赋初始值，针对于所有的会话有效，但是不能跨重启</p>
<p>会话变量作用域：仅仅针对于当前会话（连接）有效</p>
<h3 id="自定义变量"><a href="#自定义变量" class="headerlink" title="自定义变量"></a>自定义变量</h3><p>变量是用户自定义的，不是由系统提供的。使用步骤：声明、赋值、使用（查看、比较、运算等）</p>
<p><strong>用户变量：</strong></p>
<ul>
<li>声明并初始化：<code>SET @用户变量名=值;</code>（可以在&#x3D;前加:）</li>
<li>赋值（更新用户变量的值）：<code>SET @用户变量名=值;</code></li>
<li>查看用户变量的值：<code>SELECT @用户变量名</code></li>
</ul>
<p>用户变量的作用域：仅仅针对于当前会话（连接）有效</p>
<p><strong>局部变量：</strong></p>
<ul>
<li>声明：<code>DECLARE 变量名 类型;</code></li>
<li>赋值（更新局部变量的值）：<code>SET 局部变量名=值;</code></li>
<li>查看局部变量的值：<code>SELECT 局部变量名</code></li>
</ul>
<p>局部变量的作用域：仅仅在定义它的begin end中有效，且必须为begin end的第一句</p>
<hr>
<h2 id="存储过程"><a href="#存储过程" class="headerlink" title="存储过程"></a>存储过程</h2><h3 id="存储过程介绍"><a href="#存储过程介绍" class="headerlink" title="存储过程介绍"></a>存储过程介绍</h3><p>含义：一组预先编译好的SQL语句的集合，可以理解为批处理语句</p>
<p>优点：</p>
<ul>
<li><p>提高代码的重用性</p>
</li>
<li><p>简化操作</p>
</li>
<li><p>减少了编译次数并减少了和数据库服务器的连接次数</p>
</li>
</ul>
<h3 id="存储过程语法"><a href="#存储过程语法" class="headerlink" title="存储过程语法"></a>存储过程语法</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 创建语法</span><br><span class="line">CREATE PROCEDURE 存储过程名(参数列表)</span><br><span class="line">BEGIN</span><br><span class="line">	存储过程体(一组合法有效的SQL语句)</span><br><span class="line">END</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ul>
<li>参数列表包含三部分：参数模式、参数名、参数类型</li>
<li>参数模式：<ul>
<li>IN：该参数可以作为输入，调用改参数需要传入值</li>
<li>OUT：该参数可以作为输出，调用改参数需要返回值</li>
<li>INOUT：该参数可以作为输入、输出</li>
</ul>
</li>
<li>如果存储过程体仅有一句，<code>BEGIN END</code>可以省略，存储过程体中每条SQL语句都需要分号。存储过程结尾可以使用DELIMITER重新设置<code>DELIMITER 结束标记</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 调用方法</span><br><span class="line">CALL 存储过程名(实参列表);</span><br></pre></td></tr></table></figure>

<h4 id="IN模式"><a href="#IN模式" class="headerlink" title="IN模式"></a>IN模式</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE PROCEDURE p(IN name VARCHAR(20))</span><br><span class="line">BEGIN</span><br><span class="line">	存储过程体(一组合法有效的SQL语句)</span><br><span class="line">END $</span><br><span class="line"></span><br><span class="line">CALL p(&#x27;Bob&#x27;)$</span><br></pre></td></tr></table></figure>

<h4 id="OUT模式"><a href="#OUT模式" class="headerlink" title="OUT模式"></a>OUT模式</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE PROCEDURE p(OUT name VARCHAR(20))</span><br><span class="line">BEGIN</span><br><span class="line">	SELECT 列名 INTO name</span><br><span class="line">	FROM 表名</span><br><span class="line">	WHERE 条件</span><br><span class="line">END $</span><br><span class="line"></span><br><span class="line">CALL p(@name)$</span><br></pre></td></tr></table></figure>

<h4 id="INOUT模式"><a href="#INOUT模式" class="headerlink" title="INOUT模式"></a>INOUT模式</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE PROCEDURE p(INOUT a INT)</span><br><span class="line">BEGIN</span><br><span class="line">	SET a=a*2;</span><br><span class="line">END $</span><br><span class="line"># 初始化变量</span><br><span class="line">SET @a=10$</span><br><span class="line"># 调用</span><br><span class="line">CALL p(@a)$</span><br><span class="line"># 查看</span><br><span class="line">SELECT @a$</span><br></pre></td></tr></table></figure>

<h3 id="存储过程删除"><a href="#存储过程删除" class="headerlink" title="存储过程删除"></a>存储过程删除</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DROP PROCEDURE 存储过程名</span><br></pre></td></tr></table></figure>

<p>一次仅能删除一个存储过程</p>
<h3 id="存储过程查看"><a href="#存储过程查看" class="headerlink" title="存储过程查看"></a>存储过程查看</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SHOW CREATE PROCEDURE 存储过程名</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="函数的介绍"><a href="#函数的介绍" class="headerlink" title="函数的介绍"></a>函数的介绍</h3><p>含义：一组预先编译好的SQL语句的集合，可以理解为批处理语句</p>
<p>优点：</p>
<ul>
<li><p>提高代码的重用性</p>
</li>
<li><p>简化操作</p>
</li>
<li><p>减少了编译次数并减少了和数据库服务器的连接次数</p>
</li>
</ul>
<p>存储过程与函数的区别：</p>
<ul>
<li>存储过程可以有0个返回，也可以有多个返回，适合做批量的操作</li>
<li>函数只能有1个返回，适合处理后返回一个值</li>
</ul>
<h3 id="函数的创建"><a href="#函数的创建" class="headerlink" title="函数的创建"></a>函数的创建</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE FUNCTION 函数名(参数列表) RETURNS 返回类型</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ul>
<li>参数列表包含两部分：参数名、参数类型</li>
<li>函数体：肯定会有return语句</li>
<li>函数体中只有一句话可以省略BEGIN END</li>
<li>使用delimiter语句设置结束标记</li>
</ul>
<h3 id="函数的调用"><a href="#函数的调用" class="headerlink" title="函数的调用"></a>函数的调用</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 函数名(参数列表)</span><br></pre></td></tr></table></figure>

<h3 id="函数的查看"><a href="#函数的查看" class="headerlink" title="函数的查看"></a>函数的查看</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SHOW CREATE FUNCTION 函数名</span><br></pre></td></tr></table></figure>

<h3 id="函数的删除"><a href="#函数的删除" class="headerlink" title="函数的删除"></a>函数的删除</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DROP FUNCTION 函数名</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="流程控制结构"><a href="#流程控制结构" class="headerlink" title="流程控制结构"></a>流程控制结构</h2><h3 id="流程控制的介绍"><a href="#流程控制的介绍" class="headerlink" title="流程控制的介绍"></a>流程控制的介绍</h3><p>顺序结构：程序从上往下依次执行</p>
<p>分支结构：程序从两条或多条路径中选择一条去执行</p>
<p>循环机构：程序在满足一定的条件基础上，重复执行一段代码</p>
<h3 id="分支结构-if函数"><a href="#分支结构-if函数" class="headerlink" title="分支结构-if函数"></a>分支结构-if函数</h3><p>功能：实现简单的双分支</p>
<p>语法：<code>IF(表达式1,表达式2,表达式3)</code></p>
<p>执行顺序：如果表达式1成立，则IF函数返回表达式2的值，否则返回表达式3的值</p>
<h3 id="分支结构-case结构"><a href="#分支结构-case结构" class="headerlink" title="分支结构-case结构"></a>分支结构-case结构</h3><p>类似于switch-case语句，一般用于实现等值判断或区间判断</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 作为表达式</span><br><span class="line"># 等值</span><br><span class="line">CASE 变量|表达式|字段</span><br><span class="line">WHEN 要判断的值 THEN 返回的值1</span><br><span class="line">WHEN 要判断的值 THEN 返回的值2</span><br><span class="line">...</span><br><span class="line">ELSE 返回的值n</span><br><span class="line">END;</span><br><span class="line"># 区间</span><br><span class="line">CASE</span><br><span class="line">WHEN 要判断的条件1 THEN 返回的值1</span><br><span class="line">WHEN 要判断的条件2 THEN 返回的值2</span><br><span class="line">...</span><br><span class="line">ELSE 返回的值n</span><br><span class="line">END;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 作为独立语句</span><br><span class="line"># 等值</span><br><span class="line">CASE 变量|表达式|字段</span><br><span class="line">WHEN 要判断的值 THEN 返回的语句1;</span><br><span class="line">WHEN 要判断的值 THEN 返回的语句2;</span><br><span class="line">...</span><br><span class="line">ELSE 返回的语句n;</span><br><span class="line">END CASE;</span><br><span class="line"># 区间</span><br><span class="line">CASE</span><br><span class="line">WHEN 要判断的条件1 THEN 返回的语句1;</span><br><span class="line">WHEN 要判断的条件2 THEN 返回的语句2;</span><br><span class="line">...</span><br><span class="line">ELSE 返回的语句n;</span><br><span class="line">END CASE;</span><br></pre></td></tr></table></figure>

<p>特点：</p>
<ul>
<li>可以作为表达式，嵌套在其他语句中使用，可以放在任何地方，BEGIN END中或BEGIN END的外面</li>
<li>可以作为独立的语句去使用，只能放在BEGIN END中使用</li>
</ul>
<h3 id="分支结构-if结构"><a href="#分支结构-if结构" class="headerlink" title="分支结构-if结构"></a>分支结构-if结构</h3><p>功能：实现多重分支</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">IF 条件1 THEN 语句1;</span><br><span class="line">ELSEIF 条件2 THEN 语句2;</span><br><span class="line">...</span><br><span class="line">ELSE 语句n;</span><br><span class="line">END IF;</span><br></pre></td></tr></table></figure>

<p>只能应用于BEGIN END中</p>
<h3 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h3><p>分类：while、loop、repeat</p>
<p>循环控制：iterate类似于continue、leave类似于break</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># while先判断后执行</span><br><span class="line">[标签:] WHILE 循环条件 DO</span><br><span class="line">	循环体</span><br><span class="line">END WHILE [标签];</span><br><span class="line"></span><br><span class="line"># loop可以模拟死循环</span><br><span class="line">[标签:] LOOP</span><br><span class="line">	循环体;</span><br><span class="line">END LOOP [标签];</span><br><span class="line"></span><br><span class="line"># repeat先执行后判断</span><br><span class="line">[标签:] REPEAT</span><br><span class="line">	循环体;</span><br><span class="line">UNTIL 结束循环的条件</span><br><span class="line">END REPEAT[标签];</span><br></pre></td></tr></table></figure>

</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Notes/">Notes</a><a class="post-meta__tags" href="/tags/DataBase/">DataBase</a></div><div class="post_share"><div class="social-share" data-image="https://upload.wikimedia.org/wikipedia/zh/thumb/6/62/MySQL.svg/1200px-MySQL.svg.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/01/30/Git/"><img class="prev-cover" src="https://editor.analyticsvidhya.com/uploads/18288git.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Git GitHub</div></div></a></div><div class="next-post pull-right"><a href="/2022/03/12/%E5%BE%AE%E5%9E%8B%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8E%A5%E5%8F%A3%E6%8A%80%E6%9C%AF/"><img class="next-cover" src="https://image.zhihuishu.com/zhs/createcourse/course/202002/cb6922bdce6847ec90051acdadb791da_s1.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">微型计算机原理及接口技术</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2022/02/15/Golang/" title="Golang"><img class="cover" src="http://5b0988e595225.cdn.sohucs.com/images/20190127/98d2709000f649198967eb6e91d26a1a.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-15</div><div class="title">Golang</div></div></a></div><div><a href="/2023/12/01/Linux%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" title="Linux网络编程"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-01</div><div class="title">Linux网络编程</div></div></a></div><div><a href="/2023/02/27/Docker/" title="Docker"><img class="cover" src="https://www.ondat.io/hubfs/Docker.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-27</div><div class="title">Docker</div></div></a></div><div><a href="/2023/03/14/C++/" title="C++"><img class="cover" src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/ISO_C%2B%2B_Logo.svg/1200px-ISO_C%2B%2B_Logo.svg.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-14</div><div class="title">C++</div></div></a></div><div><a href="/2023/02/06/Flask/" title="Flask"><img class="cover" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Flask_logo.svg/1200px-Flask_logo.svg.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-06</div><div class="title">Flask</div></div></a></div><div><a href="/2023/03/16/CMake/" title="CMake"><img class="cover" src="https://www.kitware.com/main/wp-content/uploads/2016/11/CMake-Logo-and-Text-e1540917038464.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-16</div><div class="title">CMake</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/day.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">santidad DAY</div><div class="author-info__description">今日事，今日毕</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">17</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">9</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">1</div></a></div></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/santidadday" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%8F%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">序言</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.</span> <span class="toc-text">数据库的相关概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">1.2.</span> <span class="toc-text">数据库存储数据的特点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MySQL%E4%BA%A7%E5%93%81%E4%BD%BF%E7%94%A8"><span class="toc-number">2.</span> <span class="toc-text">MySQL产品使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQl%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E5%81%9C%E6%AD%A2"><span class="toc-number">2.1.</span> <span class="toc-text">MySQl服务的启动和停止</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E6%9C%8D%E5%8A%A1%E7%9A%84%E7%99%BB%E5%BD%95%E5%92%8C%E9%80%80%E5%87%BA"><span class="toc-number">2.2.</span> <span class="toc-text">MySQL服务的登录和退出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E5%B8%B8%E8%A7%81%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="toc-number">2.3.</span> <span class="toc-text">MySQL常见的命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E7%9A%84%E8%AF%AD%E6%B3%95%E8%A7%84%E8%8C%83"><span class="toc-number">2.4.</span> <span class="toc-text">MySQL的语法规范</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DQL%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88Data-Query-Language%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">DQL语言学习（Data Query Language）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.1.</span> <span class="toc-text">基础查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.2.</span> <span class="toc-text">条件查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.3.</span> <span class="toc-text">排序查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0"><span class="toc-number">3.4.</span> <span class="toc-text">常见函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E8%A1%8C%E5%87%BD%E6%95%B0"><span class="toc-number">3.4.1.</span> <span class="toc-text">单行函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0"><span class="toc-number">3.4.2.</span> <span class="toc-text">其他函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%87%BD%E6%95%B0"><span class="toc-number">3.4.3.</span> <span class="toc-text">流程控制函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E5%87%BD%E6%95%B0"><span class="toc-number">3.4.4.</span> <span class="toc-text">分组函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.5.</span> <span class="toc-text">分组查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.6.</span> <span class="toc-text">连接查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%88%E5%86%85%E6%9F%A5%E8%AF%A2%EF%BC%89"><span class="toc-number">3.7.</span> <span class="toc-text">子查询（内查询）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#where%E6%88%96having"><span class="toc-number">3.7.1.</span> <span class="toc-text">where或having</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#select"><span class="toc-number">3.7.2.</span> <span class="toc-text">select</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#exists%EF%BC%88%E7%9B%B8%E5%85%B3%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%89"><span class="toc-number">3.7.3.</span> <span class="toc-text">exists（相关子查询）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.8.</span> <span class="toc-text">分页查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.9.</span> <span class="toc-text">联合查询</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DML%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88Data-Manipulation-Language%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">DML语言学习（Data Manipulation Language）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E8%AF%AD%E5%8F%A5"><span class="toc-number">4.1.</span> <span class="toc-text">插入语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%AF%AD%E5%8F%A5"><span class="toc-number">4.2.</span> <span class="toc-text">修改语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%AF%AD%E5%8F%A5"><span class="toc-number">4.3.</span> <span class="toc-text">删除语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DDL%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88Data-Define-Language%EF%BC%89"><span class="toc-number">5.</span> <span class="toc-text">DDL语言学习（Data Define Language）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%93%E7%9A%84%E7%AE%A1%E7%90%86"><span class="toc-number">5.1.</span> <span class="toc-text">库的管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%93%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">5.1.1.</span> <span class="toc-text">库的创建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%93%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="toc-number">5.1.2.</span> <span class="toc-text">库的修改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%93%E7%9A%84%E5%88%A0%E9%99%A4"><span class="toc-number">5.1.3.</span> <span class="toc-text">库的删除</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E7%AE%A1%E7%90%86"><span class="toc-number">5.2.</span> <span class="toc-text">表的管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">5.2.1.</span> <span class="toc-text">表的创建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="toc-number">5.2.2.</span> <span class="toc-text">表的修改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E5%88%A0%E9%99%A4"><span class="toc-number">5.2.3.</span> <span class="toc-text">表的删除</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E5%A4%8D%E5%88%B6"><span class="toc-number">5.2.4.</span> <span class="toc-text">表的复制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.3.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B4%E5%9E%8B"><span class="toc-number">5.3.1.</span> <span class="toc-text">整型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E6%95%B0"><span class="toc-number">5.3.2.</span> <span class="toc-text">小数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E5%9E%8B"><span class="toc-number">5.3.3.</span> <span class="toc-text">字符型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.3.4.</span> <span class="toc-text">日期类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%BA%A6%E6%9D%9F"><span class="toc-number">5.4.</span> <span class="toc-text">常见约束</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E7%BA%A6%E6%9D%9F"><span class="toc-number">5.4.1.</span> <span class="toc-text">创建表时添加约束</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E9%94%AE%E4%B8%8E%E5%94%AF%E4%B8%80"><span class="toc-number">5.4.2.</span> <span class="toc-text">主键与唯一</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%96%E9%94%AE"><span class="toc-number">5.4.3.</span> <span class="toc-text">外键</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E7%BA%A6%E6%9D%9F"><span class="toc-number">5.4.4.</span> <span class="toc-text">修改表时添加约束</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E5%88%A0%E9%99%A4%E7%BA%A6%E6%9D%9F"><span class="toc-number">5.4.5.</span> <span class="toc-text">修改表时删除约束</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E8%AF%86%E5%88%97"><span class="toc-number">5.5.</span> <span class="toc-text">标识列</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCL%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88Transaction-Contral-Language%EF%BC%89"><span class="toc-number">6.</span> <span class="toc-text">TCL语言学习（Transaction Contral Language）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E7%89%A9%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">6.1.</span> <span class="toc-text">事物的介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E7%89%A9%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">6.2.</span> <span class="toc-text">事物的创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9E%E6%BB%9A%E7%82%B9"><span class="toc-number">6.3.</span> <span class="toc-text">回滚点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE"><span class="toc-number">7.</span> <span class="toc-text">视图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">7.1.</span> <span class="toc-text">视图的介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">7.2.</span> <span class="toc-text">视图的创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="toc-number">7.3.</span> <span class="toc-text">视图的修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E5%88%A0%E9%99%A4"><span class="toc-number">7.4.</span> <span class="toc-text">视图的删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E6%9F%A5%E7%9C%8B"><span class="toc-number">7.5.</span> <span class="toc-text">视图的查看</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E6%9B%B4%E6%96%B0"><span class="toc-number">7.6.</span> <span class="toc-text">视图的更新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E4%B8%8E%E8%A1%A8"><span class="toc-number">7.7.</span> <span class="toc-text">视图与表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#delete%E5%92%8Ctruncate"><span class="toc-number">7.8.</span> <span class="toc-text">delete和truncate</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">8.</span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F"><span class="toc-number">8.1.</span> <span class="toc-text">系统变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">8.2.</span> <span class="toc-text">自定义变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">9.</span> <span class="toc-text">存储过程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%BB%8B%E7%BB%8D"><span class="toc-number">9.1.</span> <span class="toc-text">存储过程介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E8%AF%AD%E6%B3%95"><span class="toc-number">9.2.</span> <span class="toc-text">存储过程语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#IN%E6%A8%A1%E5%BC%8F"><span class="toc-number">9.2.1.</span> <span class="toc-text">IN模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OUT%E6%A8%A1%E5%BC%8F"><span class="toc-number">9.2.2.</span> <span class="toc-text">OUT模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#INOUT%E6%A8%A1%E5%BC%8F"><span class="toc-number">9.2.3.</span> <span class="toc-text">INOUT模式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%88%A0%E9%99%A4"><span class="toc-number">9.3.</span> <span class="toc-text">存储过程删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E6%9F%A5%E7%9C%8B"><span class="toc-number">9.4.</span> <span class="toc-text">存储过程查看</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">10.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">10.1.</span> <span class="toc-text">函数的介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">10.2.</span> <span class="toc-text">函数的创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8"><span class="toc-number">10.3.</span> <span class="toc-text">函数的调用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E6%9F%A5%E7%9C%8B"><span class="toc-number">10.4.</span> <span class="toc-text">函数的查看</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%88%A0%E9%99%A4"><span class="toc-number">10.5.</span> <span class="toc-text">函数的删除</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E7%BB%93%E6%9E%84"><span class="toc-number">11.</span> <span class="toc-text">流程控制结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">11.1.</span> <span class="toc-text">流程控制的介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84-if%E5%87%BD%E6%95%B0"><span class="toc-number">11.2.</span> <span class="toc-text">分支结构-if函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84-case%E7%BB%93%E6%9E%84"><span class="toc-number">11.3.</span> <span class="toc-text">分支结构-case结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84-if%E7%BB%93%E6%9E%84"><span class="toc-number">11.4.</span> <span class="toc-text">分支结构-if结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="toc-number">11.5.</span> <span class="toc-text">循环结构</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/12/01/Linux%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" title="Linux网络编程"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux网络编程"/></a><div class="content"><a class="title" href="/2023/12/01/Linux%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" title="Linux网络编程">Linux网络编程</a><time datetime="2023-11-30T16:00:00.000Z" title="Created 2023-12-01 00:00:00">2023-12-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/03/ROS/" title="ROS基础"><img src="https://d2908q01vomqb2.cloudfront.net/ca3512f4dfa95a03169c5a670a4c91a19b3077b4/2018/11/26/ros-logo.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ROS基础"/></a><div class="content"><a class="title" href="/2023/11/03/ROS/" title="ROS基础">ROS基础</a><time datetime="2023-11-02T16:00:00.000Z" title="Created 2023-11-03 00:00:00">2023-11-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/04/C++11/" title="C++11"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/ISO_C%2B%2B_Logo.svg/1200px-ISO_C%2B%2B_Logo.svg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++11"/></a><div class="content"><a class="title" href="/2023/07/04/C++11/" title="C++11">C++11</a><time datetime="2023-07-03T16:00:00.000Z" title="Created 2023-07-04 00:00:00">2023-07-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/20/Linux%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B/" title="Linux系统编程"><img src="https://file.rymooc.com/SuperLargeCover/200303ae51194686d43e" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux系统编程"/></a><div class="content"><a class="title" href="/2023/06/20/Linux%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B/" title="Linux系统编程">Linux系统编程</a><time datetime="2023-06-19T16:00:00.000Z" title="Created 2023-06-20 00:00:00">2023-06-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/11/C++%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="C++设计模式"><img src="https://picx.zhimg.com/v2-f7e5e75bb391e9c74762d9dbee97f807_720w.jpg?source=172ae18b" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++设计模式"/></a><div class="content"><a class="title" href="/2023/05/11/C++%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="C++设计模式">C++设计模式</a><time datetime="2023-05-10T16:00:00.000Z" title="Created 2023-05-11 00:00:00">2023-05-11</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2025 By santidad DAY</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">welcome  to  my  <a  target="_blank" rel="noopener" href="https://butterfly.js.org/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="true"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>